<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>나만의 메모앱</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    textarea { width: 100%; }
    ul { padding-left: 0; list-style-type: none; }
    li {
      border: 1px solid #ccc; 
      padding: 10px;
      margin-bottom: 5px;
      cursor: pointer;
    }
    li:hover { background-color: #f5f5f5; }
  </style>
</head>
<body>
  <h2>📝 나만의 메모장</h2>

  <textarea id="note" rows="6" placeholder="메모를 입력하세요..."></textarea>
  <br><br>
  <button onclick="saveNote()">저장</button>

  <h3>📌 저장된 메모 목록</h3>
  <ul id="noteList"></ul>

  <script>
    function getNotes() {
      const notes = JSON.parse(localStorage.getItem("noteList")) || [];
      return notes;
    }

    function saveNote() {
      const textarea = document.getElementById("note");
      const content = textarea.value.trim();
      if (!content) {
        alert("메모 내용을 입력해주세요.");
        return;
      }
      const now = new Date();
      const note = {
        content: content,
        timestamp: now.toLocaleString()
      };
      const notes = getNotes();
      notes.unshift(note);
      localStorage.setItem("noteList", JSON.stringify(notes));
      textarea.value = "";
      renderNoteList();
      alert("메모가 저장되었습니다!");
    }

    function renderNoteList() {
      const noteListElem = document.getElementById("noteList");
      const notes = getNotes();
      noteListElem.innerHTML = "";
      notes.forEach((note, index) => {
        const li = document.createElement("li");
        li.textContent = note.timestamp + " - " + note.content.slice(0, 20) + "...";
        li.onclick = () => {
          document.getElementById("note").value = note.content;
        };
        noteListElem.appendChild(li);
      });
    }

    // 초기 로딩 시 목록 렌더링
    window.onload = renderNoteList;
  </script>
</body>
</html>
